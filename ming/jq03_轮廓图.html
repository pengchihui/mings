<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="js-phone/jquery-1.7.2.js"></script>
		<style>
			* {
				margin: 0;
				padding: 0;
			}
			
			#box {
				height: 300px;
				background: #eee;
				margin: 0 auto;
				position: relative;
				overflow: hidden;
			}
			
			#box>ul {
				width: 1000%;
				height: 300px;
				position: absolute;
			}
			
			#box>ul>li {
				width: 10%;
				list-style: none;
				float: left;
				height: 300px;
			}
			
			#box>button {
				position: absolute;
				padding: 10px;
				top: 120px;
				right: 0;
				cursor: pointer;
			}
			
			#box>button:first-of-type {
				left: 0;
				right: auto;
			}
			
			#box>.btn {
				position: absolute;
				bottom: 10px;
			}
			
			#box>.btn>a {
				display: block;
				float: left;
				width: 20px;
				height: 20px;
				background: #fff;
				border-radius: 50%;
				margin: 0 10px;
			}
			#box>.btn>.on{
				background: yellow;
			}
		</style>
		
		
		
	</head>
	<body>
		<div id="box" style=" width: 500px;">
			<ul style="left: 0%;">
				<li style="background: #E6E6FA;">1</li>
				<li style="background: #87CEFA;">2</li>
				<li style="background: #98FB98;">3</li>
				<li style="background: SlateGray;">4</li>
				<li style="background: pink;">5</li>
			</ul>
			<button>&lt;</button>
			<button>&gt;</button>
			<div class="btn">
				
			</div>
		</div>
		<script>
			//方式 前后复制
			//初始化
			var first=$("ul li").first().clone();
			var last=$("ul li").last().clone();
			$("ul li").each(function(){
                  //初始化小圆圈
                 $(".btn").append("<a href='javascrip:;'></a>");
			});
			//初始化第一个小球为黄色
			$(".btn a:first").addClass("on");
			//初始化小圆圈位置
			$(".btn").css("left",$("#box").width()/2-$(".btn").width()/2+"px");
			
			//li无缝连接处理  原始最后另一个复制到第一个  原始第一个复制到最后一个,
			//且ul左移动100%  
			$("ul").append(first).prepend(last).css("left","-100%");
			
			//移动方法
			var bool=true;//一个开关用来控制 li显示完才可以再次点击
			function move(val){
				//停掉其他动画
				$("ul").stop();
				//清除所有a标签的on属性
				$(".btn a").removeClass("on");
				//得到ul的left值
//				var ulef=$("ul").width();
//				console.log(ulef);
				
				//动画移动
	            $("ul").animate({left:-val-1+"00%"},1000,function(){
	                  	//右边的边界
	                    if(val==$("ul li").length-2){
	                    	//右点击事件到无缝连接的一张时，ul的left转回来
	                    	$("ul").css("left","-100%");
	                    };
	                    //动画执行完成后 bool变量是开启的 开启才能再次触发事件
	                    console.log($("this").attr("left"));
	                	bool=true;
	                });
	                //移动过程当前这个小圆添加一个class属性，其余小圆没有这个class属性
					$(".btn a").eq(val==($("ul li").length-2)?dan=0:val).addClass("on");
			};
			
			//小球点击事件
			//当前这个事件a节点
			var dan=0;  
			$(".btn a").click(function(){
				dan=$(this).index();
				bool?move(dan):"";
				bool=false;
			})
			//左加   点击事件
			$("button").eq(0).click(function(){
				if(bool){
					dan=dan+1;
					move(on <= 0 ? on = 0 : --on);
				}
				bool=false;
			})
			//右减   点击事件
			$("button").eq(1).click(function(){
				if(bool){
					dan=dan-1;
					move(dan);
				}
				bool=false;
			})
		
		//方式2 整体复制
		//方式3 
		
		</script>
		
		
		
		
		
		
		
		
		
		
		
	</body>
</html>
